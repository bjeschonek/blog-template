{% extends "layouts/base.html" %}

{% set date = page.date %}
{% set postContent = content %}
{% set additionalPosts = helpers.getAdditionalPosts(collections.blog, page) %}

{% block content %}
<article class="post">
    <header class="post__header">
        <h1>{{ title }}</h1>
        {% include "partials/post-metadata.html" %}

        {% if tags %}
        <p class="visually-hidden" id="tags-description">Tags this post has been filed under</p>
        <ul class="tags-list" aria-describedby="tags-description">
            {% for tag in tags %}
            <li>
                <a href="/tag/{{ tag | slugify }}">#{{ tag | title | replace(' ', '') }}</a>
            </li>
            {% endfor %}
        </ul>
        {% endif %}
    </header>

    <div class="post__content">
        {{ content | safe }}
    </div>

    {% if additionalPosts %}
    <section class="additional-posts">
        {% set postList = additionalPosts %}
        <h2>More from the blog</h2>
        {% include "partials/post-list.html" %}
    </section>
    {% endif %}
</article>
{% endblock %}